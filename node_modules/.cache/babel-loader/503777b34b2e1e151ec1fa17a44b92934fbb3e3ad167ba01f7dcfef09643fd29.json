{"ast":null,"code":"import React,{useState}from'react';import{useFormik}from'formik';import*as Yup from'yup';import{ToastContainer,toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import{useNavigate}from'react-router-dom';import axios from'axios';import'./ForgetPassword.css';import{Helmet}from'react-helmet';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function ForgetPassword(){const navigate=useNavigate();const[loading,setLoading]=useState(false);const formik=useFormik({initialValues:{email:'',currentPassword:'',newPassword:''},validationSchema:Yup.object({email:Yup.string().email('Invalid email address').required('Email is required'),currentPassword:Yup.string().required('Current password is required'),newPassword:Yup.string().required('New password is required').min(6,'Password must be at least 6 characters')}),onSubmit:async values=>{setLoading(true);try{const response=await axios.put('https://explore-ksa-backend.vercel.app/apis/user/change-password',values);toast.success('Password changed successfully!',{style:{backgroundColor:'green',color:'white'}});setTimeout(()=>{navigate('/login');},2000);}catch(error){var _error$response,_error$response$data;toast.error(`${((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||error.message}`,{style:{backgroundColor:'red',color:'white'}});}finally{setLoading(false);}}});return/*#__PURE__*/_jsxs(\"div\",{className:\"bg\",children:[/*#__PURE__*/_jsxs(Helmet,{children:[/*#__PURE__*/_jsx(\"title\",{children:\"Change Password\"}),/*#__PURE__*/_jsx(\"meta\",{name:\"description\",content:\"Change your password\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"change-password-background\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container d-flex justify-content-left align-items-center\",style:{minHeight:'100vh'},children:/*#__PURE__*/_jsx(\"div\",{className:\"card p-4 shadow-lg\",style:{width:'600px',backgroundColor:'white',borderRadius:'10px'},children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:formik.handleSubmit,children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-success text-center\",children:\"Change Password\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"text-dark py-2\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{id:\"email\",name:\"email\",type:\"email\",className:`form-control w-100 ${formik.touched.email&&formik.errors.email?'is-invalid':''}`,onChange:formik.handleChange,onBlur:formik.handleBlur,value:formik.values.email,placeholder:\"Enter your email\"}),formik.touched.email&&formik.errors.email?/*#__PURE__*/_jsx(\"div\",{className:\"invalid-feedback\",children:formik.errors.email}):null]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"currentPassword\",className:\"text-dark py-2\",children:\"Current Password\"}),/*#__PURE__*/_jsx(\"input\",{id:\"currentPassword\",name:\"currentPassword\",type:\"password\",className:`form-control w-100 ${formik.touched.currentPassword&&formik.errors.currentPassword?'is-invalid':''}`,onChange:formik.handleChange,onBlur:formik.handleBlur,value:formik.values.currentPassword,placeholder:\"Enter your current password\"}),formik.touched.currentPassword&&formik.errors.currentPassword?/*#__PURE__*/_jsx(\"div\",{className:\"invalid-feedback\",children:formik.errors.currentPassword}):null]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"newPassword\",className:\"text-dark py-2\",children:\"New Password\"}),/*#__PURE__*/_jsx(\"input\",{id:\"newPassword\",name:\"newPassword\",type:\"password\",className:`form-control w-100 ${formik.touched.newPassword&&formik.errors.newPassword?'is-invalid':''}`,onChange:formik.handleChange,onBlur:formik.handleBlur,value:formik.values.newPassword,placeholder:\"Enter your new password\"}),formik.touched.newPassword&&formik.errors.newPassword?/*#__PURE__*/_jsx(\"div\",{className:\"invalid-feedback\",children:formik.errors.newPassword}):null]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary w-100\",style:{borderRadius:\"50px\"},disabled:loading,children:loading?'Loading...':'Change Password'})]})})})})]});}","map":{"version":3,"names":["React","useState","useFormik","Yup","ToastContainer","toast","useNavigate","axios","Helmet","jsx","_jsx","jsxs","_jsxs","ForgetPassword","navigate","loading","setLoading","formik","initialValues","email","currentPassword","newPassword","validationSchema","object","string","required","min","onSubmit","values","response","put","success","style","backgroundColor","color","setTimeout","error","_error$response","_error$response$data","data","message","className","children","name","content","minHeight","width","borderRadius","handleSubmit","htmlFor","id","type","touched","errors","onChange","handleChange","onBlur","handleBlur","value","placeholder","disabled"],"sources":["/home/mubeen/Downloads/Node-Frontend/src/components/ForgetPassword/ForgetPassword.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useFormik } from 'formik';\r\nimport * as Yup from 'yup';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { useNavigate } from 'react-router-dom'; \r\nimport axios from 'axios';\r\nimport './ForgetPassword.css';\r\nimport { Helmet } from 'react-helmet';\r\n\r\nexport default function ForgetPassword() {\r\n  const navigate = useNavigate();\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      email: '',\r\n      currentPassword: '',\r\n      newPassword: '',\r\n    },\r\n    validationSchema: Yup.object({\r\n      email: Yup.string().email('Invalid email address').required('Email is required'),\r\n      currentPassword: Yup.string().required('Current password is required'),\r\n      newPassword: Yup.string().required('New password is required').min(6, 'Password must be at least 6 characters'),\r\n    }),\r\n    onSubmit: async (values) => {\r\n      setLoading(true);\r\n      try {\r\n        const response = await axios.put('https://explore-ksa-backend.vercel.app/apis/user/change-password', values);\r\n        \r\n        toast.success('Password changed successfully!', {\r\n          style: {\r\n            backgroundColor: 'green',\r\n            color: 'white',\r\n          },\r\n        });\r\n\r\n        setTimeout(() => {\r\n          navigate('/login'); \r\n        }, 2000);\r\n      } catch (error) {\r\n        toast.error(`${error.response?.data?.message || error.message}`, {\r\n          style: {\r\n            backgroundColor: 'red',\r\n            color: 'white',\r\n          },\r\n        });\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    },\r\n  });\r\n\r\n  return (\r\n    <div className=\"bg\">\r\n      <Helmet>\r\n        <title>Change Password</title>\r\n        <meta name=\"description\" content=\"Change your password\" />\r\n      </Helmet>\r\n      <div className=\"change-password-background\">\r\n        <div className=\"container d-flex justify-content-left align-items-center\" style={{ minHeight: '100vh' }}>\r\n          <div className=\"card p-4 shadow-lg\" style={{ width: '600px', backgroundColor: 'white', borderRadius: '10px' }}>\r\n            <form onSubmit={formik.handleSubmit}>\r\n              <h3 className='text-success text-center'>Change Password</h3>\r\n              \r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"email\" className=\"text-dark py-2\">Email</label>\r\n                <input\r\n                  id=\"email\"\r\n                  name=\"email\"\r\n                  type=\"email\"\r\n                  className={`form-control w-100 ${formik.touched.email && formik.errors.email ? 'is-invalid' : ''}`}\r\n                  onChange={formik.handleChange}\r\n                  onBlur={formik.handleBlur}\r\n                  value={formik.values.email}\r\n                  placeholder=\"Enter your email\"\r\n                />\r\n                {formik.touched.email && formik.errors.email ? <div className=\"invalid-feedback\">{formik.errors.email}</div> : null}\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"currentPassword\" className=\"text-dark py-2\">Current Password</label>\r\n                <input\r\n                  id=\"currentPassword\"\r\n                  name=\"currentPassword\"\r\n                  type=\"password\"\r\n                  className={`form-control w-100 ${formik.touched.currentPassword && formik.errors.currentPassword ? 'is-invalid' : ''}`}\r\n                  onChange={formik.handleChange}\r\n                  onBlur={formik.handleBlur}\r\n                  value={formik.values.currentPassword}\r\n                  placeholder=\"Enter your current password\"\r\n                />\r\n                {formik.touched.currentPassword && formik.errors.currentPassword ? <div className=\"invalid-feedback\">{formik.errors.currentPassword}</div> : null}\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"newPassword\" className=\"text-dark py-2\">New Password</label>\r\n                <input\r\n                  id=\"newPassword\"\r\n                  name=\"newPassword\"\r\n                  type=\"password\"\r\n                  className={`form-control w-100 ${formik.touched.newPassword && formik.errors.newPassword ? 'is-invalid' : ''}`}\r\n                  onChange={formik.handleChange}\r\n                  onBlur={formik.handleBlur}\r\n                  value={formik.values.newPassword}\r\n                  placeholder=\"Enter your new password\"\r\n                />\r\n                {formik.touched.newPassword && formik.errors.newPassword ? <div className=\"invalid-feedback\">{formik.errors.newPassword}</div> : null}\r\n              </div>\r\n\r\n              <button type=\"submit\" className=\"btn btn-primary w-100\" style={{ borderRadius: \"50px\" }} disabled={loading}>\r\n                {loading ? 'Loading...' : 'Change Password'}\r\n              </button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}